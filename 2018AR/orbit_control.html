<!DOCTYPE html>
<html>
<head>
	<title>控制练习</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0">
	<style>
		body{
			color: #000;
			font-family: Monospace; /*字体*/
			font-size: 13px;
			text-align: center; /*文本对齐方式*/
			font-weight: bold; /*字体粗细*/

			background-color: #fff;
			margin: 0px; /* 外边距*/
			overflow: hidden; /*溢出元素隐藏或设置滚轮*/
		}

		#info{
			color: #000;
			position: absolute;
			top: 0px;width: 100%;
			padding: 5px;  /* 内边距*/
		}

		a{
			color: red;
		}
	</style>
</head>

<body>
	<div id="container"></div>
	<div id="info"></div>
	<script src="vendor/three.js/build/three.js"></script>
	<script src="vendor/three.js/examples/js/controls/OrbitControls.js"></script>

	<script src="vendor/three.js/examples/js/Detector.js"></script>
	<script src="vendor/three.js/examples/js/stats.min.js"></script>

	<script>
		if (!Detector.webgl)Detector.addGetWebGLMessage();

		var stats;

		var camera,controls, scene, renderer;

		init();
		animate();

		function init(){

			scene =new THREE.Scene();
			scene.fog = new THREE.FogExp2(11111111,0.002);//添加雾的效果

			renderer = new THREE.WebGLRenderer();
			renderer.setClearColor(scene.fog.color);
			renderer.setPixelRatio(window.devicePixelRatio);
			renderer.setSize(window.innerWidth,window.innerHeight);

			var container = document.getElementById('container');
			container.appendChild(renderer.domElement);
			
			camera = new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1000);
			camera.position.z = 500;
			
			//控制
			controls = new THREE.OrbitControls(camera,renderer.domElement);

			controls.enableDamping = true;
			controls.dampingFactor = 0.5;
			controls.enableZoom = 1;

			//world
			var geometry = new THREE.CylinderGeometry(10,15,15,1000,100);
			var material = new THREE.MeshPhongMaterial({color:0xffffff,shading:THREE.FlatShading});

			for(var i = 0; i<=10; i++){
				var mesh = new THREE.Mesh(geometry,material);
				mesh.position.x = (Math.random()-0.5)*1000;
				mesh.position.y = (Math.random()-0.5)*1000;
				mesh.position.z = (Math.random()-0.5)*1000;
				mesh.updateMatrix();
				mesh.matrixAutoUpdate = false;
				scene.add( mesh);
			}

			//灯光

			light = new THREE.DirectionalLight(0xffffff);
			light.position.set(1,1,1);
			scene.add(light);

			light  = new THREE.DirectionalLight(0x002288);
			light.position.set(-1,-1,-1);
			scene.add(light);

			light = new THREE.AmbientLight(0x222222);
			scene.add(light);
			//状态，帧率
			stats = new Stats();
			container.appendChild(stats.dom);

			window.addEventListener('resize',onWindowResize,false);
		}

		function onWindowResize(){

			camera.aspect =window.innerWidth/window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize(window.innerWidth,window.innerHeight);
		}

		function animate(){
			requestAnimationFrame(animate);
			controls.update();
			stats.update();
			render();
		}

		function render(){
			renderer.render(scene,camera);
		}
	</script>

</body>
</html>